{% extends "base.html" %}

{% block title %}Offline - Stevedores Dashboard{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center px-4">
    <div class="max-w-md w-full text-center">
        <i class="fas fa-wifi-slash text-6xl text-gray-400 mb-6"></i>
        <h1 class="text-3xl font-bold text-gray-900 mb-4">You're Offline</h1>
        <p class="text-gray-600 mb-8">No internet connection detected. The app will continue to work with your local data.</p>
        
        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Available Offline Features</h3>
            <div class="space-y-3 text-left">
                <div class="flex items-center">
                    <i class="fas fa-check text-green-500 mr-3"></i>
                    <span class="text-sm text-gray-700">View cached vessel operations</span>
                </div>
                <div class="flex items-center">
                    <i class="fas fa-check text-green-500 mr-3"></i>
                    <span class="text-sm text-gray-700">Create new cargo tallies</span>
                </div>
                <div class="flex items-center">
                    <i class="fas fa-check text-green-500 mr-3"></i>
                    <span class="text-sm text-gray-700">Complete vessel wizard</span>
                </div>
                <div class="flex items-center">
                    <i class="fas fa-check text-green-500 mr-3"></i>
                    <span class="text-sm text-gray-700">All data will sync when connection returns</span>
                </div>
            </div>
        </div>
        
        <div class="space-y-4">
            <a href="/dashboard" class="block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition duration-200">
                <i class="fas fa-tachometer-alt mr-2"></i>
                Continue to Dashboard
            </a>
            
            <button onclick="location.reload()" class="block w-full bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition duration-200">
                <i class="fas fa-sync-alt mr-2"></i>
                Check Connection
            </button>
        </div>
        
        <div class="mt-8 text-xs text-gray-500">
            <p>All operations continue to work offline.</p>
            <p>Data will automatically sync when internet connection is restored.</p>
        </div>
    </div>
</div>

<script>
    // Auto-check for connection restoration
    function checkConnection() {
        if (navigator.onLine) {
            // Connection restored, redirect to dashboard
            window.location.href = '/dashboard';
        }
    }
    
    // Check every 5 seconds
    setInterval(checkConnection, 5000);
    
    // Listen for connection events
    window.addEventListener('online', () => {
        window.location.href = '/dashboard';
    });
</script>
{% endblock %}